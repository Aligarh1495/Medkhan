{% extends 'products/base.html' %}
{% load static %}

{% block title %}Медицинские услуги в Набережных Челнах - МедХан{% endblock %}

{% block meta_description %}
<meta name="description" content="Широкий спектр медицинских услуг в клинике МедХан: урология, гинекология, неврология, диагностика. Запись к врачу онлайн. Набережные Челны, 52-й комплекс, 20А">
{% endblock %}

{% block meta_keywords %}
<meta name="keywords" content="медицинские услуги, клиника, врачи, диагностика, урология, гинекология, неврология, Набережные Челны, МедХан">
{% endblock %}

{% block structured_data %}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "MedicalOrganization",
  "name": "МедХан",
  "description": "Многопрофильная медицинская клиника в Набережных Челнах",
  "url": "{{ request.build_absolute_uri }}",
  "telephone": "+7 (901) 143-34-34",
  "address": {
    "@type": "PostalAddress",
    "streetAddress": "52-й комплекс, 20А",
    "addressLocality": "Набережные Челны",
    "addressRegion": "Республика Татарстан",
    "addressCountry": "RU"
  },
  "medicalSpecialty": [
    "Урология",
    "Гинекология",
    "Неврология",
    "Гастроэнтерология",
    "Хирургия",
    "Проктология"
  ],
  "availableService": [
    {
      "@type": "MedicalProcedure",
      "name": "УЗИ диагностика"
    },
    {
      "@type": "MedicalProcedure",
      "name": "Лабораторная диагностика"
    },
    {
      "@type": "MedicalProcedure",
      "name": "Консультации специалистов"
    }
  ]
}
</script>
{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/styles2.css' %}">
{% endblock %}

{% block content %}

<div class="container">
    <nav class="breadcrumbs" aria-label="Навигация по сайту">
        <a href="{% url 'main' %}">Главная</a> / <span>Услуги</span>
    </nav>
</div>

<!-- Секция услуг -->
<section class="services-section" id="services" aria-labelledby="services-heading">
    <div class="container">
        <header class="section-header">
            <h1 id="services-heading">Медицинские услуги</h1>
            <div class="search-bar" role="search">
                <label for="searchInput" class="sr-only">Поиск по названию услуги</label>
                <input type="text" placeholder="Поиск по названию услуги" id="searchInput" aria-describedby="search-help">
                <button type="submit" class="search-icon" aria-label="Найти услугу">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                        <path d="M9 16C13.4183 16 17 12.4183 17 8C17 3.58172 13.4183 0 9 0C4.58172 0 1 3.58172 1 8C1 12.4183 4.58172 16 9 16Z" stroke="#999999" stroke-width="2"/>
                        <path d="M15 14L19 18" stroke="#999999" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                </button>
                <div id="search-help" class="sr-only">Введите название услуги для поиска</div>

                <!-- Выпадающий список услуг -->
                <div class="services-dropdown" id="servicesDropdown" role="listbox" aria-label="Список всех услуг">
                    <div class="services-dropdown-content">
                        <h3>Все медицинские услуги</h3>

                        <div class="services-columns">
                            <div class="services-column">
                                <h4>Тип медицинского учреждения</h4>
                                <ul role="group" aria-labelledby="facility-types">
                                    <li><a href="#" role="option">диагностический центр</a></li>
                                    <li><a href="#" role="option">центр планирования семьи</a></li>
                                    <li><a href="#" role="option">медицинская лаборатория</a></li>
                                    <li><a href="#" role="option">многопрофильная клиника</a></li>
                                </ul>

                                <h4>Диагностика</h4>
                                <ul role="group" aria-labelledby="diagnostics">
                                    <li><a href="#" role="option">УЗИ</a></li>
                                    <li><a href="#" role="option">анализ на коронавирус</a></li>
                                    <li><a href="#" role="option">скрининг</a></li>
                                    <li><a href="#" role="option">УЗИ по беременности</a></li>
                                    <li><a href="#" role="option">лабораторная диагностика</a></li>
                                    <li><a href="#" role="option">эндоскопия</a></li>
                                    <li><a href="#" role="option">функциональная диагностика</a></li>
                                    <li><a href="#" role="option">генетическое обследование</a></li>
                                    <li><a href="#" role="option">программы комплексного обследования</a></li>
                                    <li><a href="#" role="option">обследование на ЗППП</a></li>
                                </ul>
                            </div>

                            <div class="services-column">
                                <h4>Общая медицина</h4>
                                <ul role="group" aria-labelledby="general-medicine">
                                    <li><a href="#" role="option">онкология</a></li>
                                    <li><a href="#" role="option">психотерапия</a></li>
                                    <li><a href="#" role="option">кардиология</a></li>
                                    <li><a href="#" role="option">флебология</a></li>
                                    <li><a href="#" role="option">ведение беременности</a></li>
                                    <li><a href="#" role="option">эндокринология</a></li>
                                    <li><a href="#" role="option">маммология</a></li>
                                    <li><a href="#" role="option">гинекология</a></li>
                                    <li><a href="#" role="option">неврология</a></li>
                                    <li><a href="#" role="option">инфектология</a></li>
                                    <li><a href="#" role="option">урология</a></li>
                                    <li><a href="#" role="option">гематология</a></li>
                                    <li><a href="#" role="option">дерматология</a></li>
                                    <li><a href="#" role="option">гастроэнтерология</a></li>
                                    <li><a href="#" role="option">аллергология</a></li>
                                    <li><a href="#" role="option">ревматология</a></li>
                                    <li><a href="#" role="option">ангиология</a></li>
                                    <li><a href="#" role="option">колопроктология</a></li>
                                    <li><a href="#" role="option">андрология</a></li>
                                    <li><a href="#" role="option">общая терапия</a></li>
                                    <li><a href="#" role="option">венерология</a></li>
                                </ul>
                            </div>

                            <div class="services-column">
                                <h4>Восстановительная медицина</h4>
                                <ul role="group" aria-labelledby="restorative-medicine">
                                    <li><a href="#" role="option">косметология</a></li>
                                    <li><a href="#" role="option">физиотерапия</a></li>
                                    <li><a href="#" role="option">лучевая терапия</a></li>
                                    <li><a href="#" role="option">процедурный кабинет</a></li>
                                    <li><a href="#" role="option">ударно-волновая терапия</a></li>
                                    <li><a href="#" role="option">лечебный массаж</a></li>
                                    <li><a href="#" role="option">подготовка к беременности</a></li>
                                    <li><a href="#" role="option">лечение ЗППП</a></li>
                                </ul>

                                <h4>Лицо и тело</h4>
                                <ul role="group" aria-labelledby="face-body">
                                    <li><a href="#" role="option">массаж</a></li>
                                    <li><a href="#" role="option">контурная пластика</a></li>
                                </ul>

                                <h4>Медицина для детей</h4>
                                <ul role="group" aria-labelledby="pediatrics">
                                    <li><a href="#" role="option">УЗИ ребенку</a></li>
                                    <li><a href="#" role="option">детский массаж</a></li>
                                    <li><a href="#" role="option">массаж для грудничков</a></li>
                                </ul>

                                <h4>Хирургия</h4>
                                <ul role="group" aria-labelledby="surgery">
                                    <li><a href="#" role="option">общая хирургия</a></li>
                                    <li><a href="#" role="option">сосудистая хирургия</a></li>
                                    <li><a href="#" role="option">удаление новообразований</a></li>
                                    <li><a href="#" role="option">амбулаторная хирургия</a></li>
                                    <li><a href="#" role="option">эндоскопическая хирургия</a></li>
                                    <li><a href="#" role="option">радиоволновая хирургия</a></li>
                                    <li><a href="#" role="option">хирургия-гинекология</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <div class="services-grid" role="list" aria-label="Список медицинских услуг">
            {% for product in products %}
                <article class="service-card" role="listitem">
                    <div class="service-content">
                        <h3>{{ product.name }}</h3>
                        <a href="{% url 'RestorativeMedicene' %}" class="circle-btn" aria-label="Подробнее о {{ product.name }}">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                                <path d="M9 18L15 12L9 6" stroke="#00C087" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </a>
                    </div>
                    <div class="service-image">
                        <img src="{{ product.image }}" alt="Иконка услуги {{ product.name }}" loading="lazy">
                    </div>
                </article>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Секция комплексных обследований -->
<section class="examinations-section" aria-labelledby="examinations-heading">
    <div class="container">
        <header class="section-header">
            <h2 id="examinations-heading">Комплексные обследования</h2>
            <a href="#" class="all-link" aria-label="Посмотреть все обследования">
                Все обследования
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                    <path d="M14 5L21 12M21 12L14 19M21 12H3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </a>
        </header>

        <div class="examinations-grid" role="list" aria-label="Список комплексных обследований">
            <article class="examination-card" role="listitem">
                <div class="icon" aria-hidden="true">
                    <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M10 20L17 27L30 14" stroke="#999999" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>
                <h3>Годовые программы прикрепления</h3>
                <a href="#" class="btn btn-primary" aria-label="Выбрать программу прикрепления">Выбрать</a>
            </article>

            <article class="examination-card" role="listitem">
                <div class="icon" aria-hidden="true">
                    <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M30 13.3333H10C8.15905 13.3333 6.66667 14.8257 6.66667 16.6667V30C6.66667 31.841 8.15905 33.3333 10 33.3333H30C31.841 33.3333 33.3333 31.841 33.3333 30V16.6667C33.3333 14.8257 31.841 13.3333 30 13.3333Z" stroke="#999999" stroke-width="2"/>
                        <path d="M26.6667 13.3333V10C26.6667 8.15905 25.1743 6.66667 23.3333 6.66667H16.6667C14.8257 6.66667 13.3333 8.15905 13.3333 10V13.3333" stroke="#999999" stroke-width="2"/>
                    </svg>
                </div>
                <h3>Программы обследования</h3>
                <a href="#" class="btn btn-primary" aria-label="Выбрать программу обследования">Выбрать</a>
            </article>

            <article class="examination-card" role="listitem">
                <div class="icon" aria-hidden="true">
                    <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M33.3333 10L20 23.3333L13.3333 16.6667L6.66667 23.3333" stroke="#999999" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M26.6667 10H33.3333V16.6667" stroke="#999999" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>
                <h3>Улучшение качества жизни</h3>
                <a href="#" class="btn btn-primary" aria-label="Выбрать программу улучшения качества жизни">Выбрать</a>
            </article>

            <article class="examination-card" role="listitem">
                <div class="icon" aria-hidden="true">
                    <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="20" cy="20" r="13.3333" stroke="#999999" stroke-width="2"/>
                        <path d="M20 13.3333V20L23.3333 23.3333" stroke="#999999" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                </div>
                <h3>Планирование семьи</h3>
                <a href="#" class="btn btn-primary" aria-label="Выбрать программу планирования семьи">Выбрать</a>
            </article>
        </div>
    </div>
</section>

<!-- Секция команды специалистов -->
<section class="specialists-section" id="specialists" aria-labelledby="specialists-heading">
    <div class="container">
        <header class="section-header">
            <h2 id="specialists-heading">Команда специалистов</h2>
            <a href="{% url 'specialists' %}" class="all-link" aria-label="Посмотреть всех специалистов">
                Все специалисты
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                    <path d="M14 5L21 12M21 12L14 19M21 12H3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </a>
        </header>

        <div class="specialists-grid" role="list" aria-label="Список врачей-специалистов">
            <article class="specialist-card" role="listitem">
                <div class="specialist-image">
                    <img src="{% static 'images/specialist-1.png' %}" alt="Фото врача Нудельман Наталия Федоровна" loading="lazy">
                    <div class="price-badge">Услуги от 1500 ₽</div>
                </div>
                <div class="specialist-info">
                    <h3>Нудельман<br>Наталия Федоровна</h3>
                    <p class="specialist-position">Врач-невролог</p>
                </div>
            </article>

            <article class="specialist-card" role="listitem">
                <div class="specialist-image">
                    <img src="{% static 'images/specialist-2.png' %}" alt="Фото врача Хан Умар Хаят" loading="lazy">
                    <div class="price-badge">Услуги от 1500 ₽</div>
                </div>
                <div class="specialist-info">
                    <h3>Хан<br>Умар Хаят</h3>
                    <p class="specialist-position">Андролог, главный врач, уролог</p>
                </div>
            </article>

            <article class="specialist-card" role="listitem">
                <div class="specialist-image">
                    <img src="{% static 'images/specialist-3.png' %}" alt="Фото врача Хан Тюльпан Тимергалиевна" loading="lazy">
                    <div class="price-badge">Услуги от 1500 ₽</div>
                </div>
                <div class="specialist-info">
                    <h3>Хан<br>Тюльпан Тимергалиевна</h3>
                    <p class="specialist-position">Акушер-гинеколог, врач УЗИ, генеральный директор, гинеколог</p>
                </div>
            </article>

            <article class="specialist-card" role="listitem">
                <div class="specialist-image">
                    <img src="{% static 'images/specialist-4.png' %}" alt="Фото врача Башарова Альбина Шарипяновна" loading="lazy">
                    <div class="price-badge">Услуги от 1500 ₽</div>
                </div>
                <div class="specialist-info">
                    <h3>Башарова<br>Альбина Шарипяновна</h3>
                    <p class="specialist-position">Терапевт, главный специалист в сфере медицины</p>
                </div>
            </article>
        </div>
    </div>
</section>

<!-- Секция контактов -->
<section class="contact-section" id="contacts" aria-labelledby="contact-heading">
    <div class="container">
        <h2 id="contact-heading" class="sr-only">Контактная информация</h2>
        <div class="contact-card">
            <div class="contact-info">
                <h3>Можете связаться с нами удобным для вас способом</h3>
                <address class="address">Набережные Челны,<br>62-й комплекс, 30А</address>
                <p class="phone">
                    <a href="tel:+79011433434" aria-label="Позвонить в клинику">+7 (901) 143-34-34</a>
                </p>
                <div class="social-links" role="list" aria-label="Социальные сети">
                    <a href="#" class="social-link email" aria-label="Написать email" role="listitem">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                            <path d="M4 4H20C21.1 4 22 4.9 22 6V18C22 19.1 21.1 20 20 20H4C2.9 20 2 19.1 2 18V6C2 4.9 2.9 4 4 4Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M22 6L12 13L2 6" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </a>
                    <a href="#" class="social-link telegram" aria-label="Написать в Telegram" role="listitem">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                            <path d="M22 2L11 13" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M22 2L15 22L11 13L2 9L22 2Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </a>
                    <a href="#" class="social-link whatsapp" aria-label="Написать в WhatsApp" role="listitem">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                            <path d="M21 11.5C21 16.75 16.75 21 11.5 21C9.54 21 7.73 20.38 6.22 19.3L3 20.5L4.2 17.28C3.12 15.77 2.5 13.96 2.5 12C2.5 6.75 6.75 2.5 12 2.5C17.25 2.5 21.5 6.75 21.5 12V12.5H21Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </a>
                </div>
            </div>
            <div class="appointment-info">
                <h3>Или заполните анкету первичного приёма</h3>
                <a href="#" class="btn btn-primary" aria-label="Перейти к заполнению анкеты">Перейти к заполнению</a>
                <img src="{% static 'images/tools.png' %}" alt="Медицинские инструменты" class="medical-image" loading="lazy">
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script>
// Функциональность поиска услуг
document.addEventListener('DOMContentLoaded', function() {
    const searchInput = document.getElementById('searchInput');
    const servicesDropdown = document.getElementById('servicesDropdown');

    // Показать/скрыть выпадающий список
    searchInput.addEventListener('focus', function() {
        servicesDropdown.style.display = 'block';
        servicesDropdown.setAttribute('aria-expanded', 'true');
    });

    // Скрыть выпадающий список при клике вне его
    document.addEventListener('click', function(event) {
        if (!event.target.closest('.search-bar')) {
            servicesDropdown.style.display = 'none';
            servicesDropdown.setAttribute('aria-expanded', 'false');
        }
    });

    // Фильтрация услуг при вводе
    searchInput.addEventListener('input', function() {
        const searchTerm = this.value.toLowerCase();
        const serviceLinks = servicesDropdown.querySelectorAll('a');

        serviceLinks.forEach(link => {
            const serviceName = link.textContent.toLowerCase();
            const listItem = link.parentElement;

            if (serviceName.includes(searchTerm)) {
                listItem.style.display = 'block';
            } else {
                listItem.style.display = 'none';
            }
        });

        // Показать выпадающий список если есть текст
        if (searchTerm.length > 0) {
            servicesDropdown.style.display = 'block';
            servicesDropdown.setAttribute('aria-expanded', 'true');
        }
    });

    // Обработка клика по услуге
    servicesDropdown.addEventListener('click', function(event) {
        if (event.target.tagName === 'A') {
            event.preventDefault();
            searchInput.value = event.target.textContent;
            servicesDropdown.style.display = 'none';
            servicesDropdown.setAttribute('aria-expanded', 'false');
            // Здесь можно добавить логику перехода к конкретной услуге
            console.log('Выбрана услуга:', event.target.textContent);
        }
    });

    // Поддержка клавиатурной навигации
    searchInput.addEventListener('keydown', function(event) {
        if (event.key === 'Escape') {
            servicesDropdown.style.display = 'none';
            servicesDropdown.setAttribute('aria-expanded', 'false');
        }
    });
});
</script>
{% endblock %}
