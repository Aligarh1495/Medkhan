{% extends 'products/base.html' %}
{% load static %}

{% block title %}{{ title }}{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/styles2.css' %}">
{% endblock %}

{% block content %}
<!-- Хлебные крошки -->
<div class="container">
    <div class="breadcrumbs">
        <a href="{% url 'main' %}">Главная</a> / <span>Услуги</span>
    </div>
</div>

<!-- Секция услуг -->
<section class="services-section" id="services">
    <div class="container">
        <div class="section-header">
            <h1>Услуги</h1>
            <div class="search-bar">
                <input type="text" placeholder="Поиск по названию услуги" id="searchInput">
                <button type="submit" class="search-icon">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M9 16C13.4183 16 17 12.4183 17 8C17 3.58172 13.4183 0 9 0C4.58172 0 1 3.58172 1 8C1 12.4183 4.58172 16 9 16Z" stroke="#999999" stroke-width="2"/>
                        <path d="M15 14L19 18" stroke="#999999" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                </button>

                <!-- Выпадающий список услуг -->
                <div class="services-dropdown" id="servicesDropdown">
                    <div class="services-dropdown-content">
                        <h3>Все услуги</h3>

                        <div class="services-columns">
                            <div class="services-column">
                                <h4>Тип мед. учреждения</h4>
                                <ul>
                                    <li><a href="#">диагностический центр</a></li>
                                    <li><a href="#">центр планирования семьи</a></li>
                                    <li><a href="#">медицинская лаборатория</a></li>
                                    <li><a href="#">многопрофильная клиника</a></li>
                                </ul>

                                <h4>Диагностика</h4>
                                <ul>
                                    <li><a href="#">УЗИ</a></li>
                                    <li><a href="#">анализ на коронавирус</a></li>
                                    <li><a href="#">скрининг</a></li>
                                    <li><a href="#">УЗИ по беременности</a></li>
                                    <li><a href="#">лабораторная диагностика</a></li>
                                    <li><a href="#">эндоскопия</a></li>
                                    <li><a href="#">функциональная диагностика</a></li>
                                    <li><a href="#">генетическое обследование</a></li>
                                    <li><a href="#">программы комплексного обследования</a></li>
                                    <li><a href="#">обследование на ЗППП</a></li>
                                </ul>
                            </div>

                            <div class="services-column">
                                <h4>Общая медицина</h4>
                                <ul>
                                    <li><a href="#">онкология</a></li>
                                    <li><a href="#">психотерапия</a></li>
                                    <li><a href="#">кардиология</a></li>
                                    <li><a href="#">флебология</a></li>
                                    <li><a href="#">ведение беременности</a></li>
                                    <li><a href="#">эндокринология</a></li>
                                    <li><a href="#">маммология</a></li>
                                    <li><a href="#">гинекология</a></li>
                                    <li><a href="#">неврология</a></li>
                                    <li><a href="#">инфектология</a></li>
                                    <li><a href="#">урология</a></li>
                                    <li><a href="#">гематология</a></li>
                                    <li><a href="#">дерматология</a></li>
                                    <li><a href="#">гастроэнтерология</a></li>
                                    <li><a href="#">аллергология</a></li>
                                    <li><a href="#">ревматология</a></li>
                                    <li><a href="#">ангиология</a></li>
                                    <li><a href="#">колопроктология</a></li>
                                    <li><a href="#">андрология</a></li>
                                    <li><a href="#">общая терапия</a></li>
                                    <li><a href="#">венерология</a></li>
                                </ul>
                            </div>

                            <div class="services-column">
                                <h4>Восстановительная медицина</h4>
                                <ul>
                                    <li><a href="#">косметология</a></li>
                                    <li><a href="#">физиотерапия</a></li>
                                    <li><a href="#">лучевая терапия</a></li>
                                    <li><a href="#">процедурный кабинет</a></li>
                                    <li><a href="#">ударно-волновая терапия</a></li>
                                    <li><a href="#">лечебный массаж</a></li>
                                    <li><a href="#">подготовка к беременности</a></li>
                                    <li><a href="#">лечение ЗППП</a></li>
                                </ul>

                                <h4>Лицо и тело</h4>
                                <ul>
                                    <li><a href="#">массаж</a></li>
                                    <li><a href="#">контурная пластика</a></li>
                                </ul>

                                <h4>Медицина для детей</h4>
                                <ul>
                                    <li><a href="#">УЗИ ребенку</a></li>
                                    <li><a href="#">детский массаж</a></li>
                                    <li><a href="#">массаж для грудничков</a></li>
                                </ul>

                                <h4>Хирургия</h4>
                                <ul>
                                    <li><a href="#">общая хирургия</a></li>
                                    <li><a href="#">сосудистая хирургия</a></li>
                                    <li><a href="#">удаление новообразований</a></li>
                                    <li><a href="#">амбулаторная хирургия</a></li>
                                    <li><a href="#">эндоскопическая хирургия</a></li>
                                    <li><a href="#">радиоволновая хирургия</a></li>
                                    <li><a href="#">хирургия-гинекология</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="services-grid">
            {% for product in products %}
                <div class="service-card">
                    <div class="service-content">
                        <h3>{{ product.name }}</h3>
                        <a href="{% url 'RestorativeMedicene' %}" class="circle-btn">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M9 18L15 12L9 6" stroke="#00C087" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </a>
                    </div>
                    <div class="service-image">
                        <img src="{{ product.image }}" alt="{{ product.name }}">
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Секция комплексных обследований -->
<section class="examinations-section">
    <div class="container">
        <div class="section-header">
            <h2>Комплексные обследования</h2>
            <a href="#" class="all-link">
                Все обследования
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M14 5L21 12M21 12L14 19M21 12H3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </a>
        </div>

        <div class="examinations-grid">
            <div class="examination-card">
                <div class="icon">
                    <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M10 20L17 27L30 14" stroke="#999999" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>
                <h3>Годовые программы прикрепления</h3>
                <a href="#" class="btn btn-primary">Выбрать</a>
            </div>

            <div class="examination-card">
                <div class="icon">
                    <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M30 13.3333H10C8.15905 13.3333 6.66667 14.8257 6.66667 16.6667V30C6.66667 31.841 8.15905 33.3333 10 33.3333H30C31.841 33.3333 33.3333 31.841 33.3333 30V16.6667C33.3333 14.8257 31.841 13.3333 30 13.3333Z" stroke="#999999" stroke-width="2"/>
                        <path d="M26.6667 13.3333V10C26.6667 8.15905 25.1743 6.66667 23.3333 6.66667H16.6667C14.8257 6.66667 13.3333 8.15905 13.3333 10V13.3333" stroke="#999999" stroke-width="2"/>
                    </svg>
                </div>
                <h3>Программы обследования</h3>
                <a href="#" class="btn btn-primary">Выбрать</a>
            </div>

            <div class="examination-card">
                <div class="icon">
                    <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M33.3333 10L20 23.3333L13.3333 16.6667L6.66667 23.3333" stroke="#999999" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M26.6667 10H33.3333V16.6667" stroke="#999999" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>
                <h3>Улучшение качества жизни</h3>
                <a href="#" class="btn btn-primary">Выбрать</a>
            </div>

            <div class="examination-card">
                <div class="icon">
                    <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="20" cy="20" r="13.3333" stroke="#999999" stroke-width="2"/>
                        <path d="M20 13.3333V20L23.3333 23.3333" stroke="#999999" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                </div>
                <h3>Планирование семьи</h3>
                <a href="#" class="btn btn-primary">Выбрать</a>
            </div>
        </div>
    </div>
</section>

<!-- Секция команды специалистов -->
<section class="specialists-section" id="specialists">
    <div class="container">
        <div class="section-header">
            <h2>Команда специалистов</h2>
            <a href="{% url 'specialists' %}" class="all-link">
                Все специалисты
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M14 5L21 12M21 12L14 19M21 12H3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </a>
        </div>

        <div class="specialists-grid">
            <div class="specialist-card">
                <div class="specialist-image">
                    <img src="{% static 'images/specialist-1.png' %}" alt="Нудельман Наталия Федоровна">
                    <div class="price-badge">Услуги от 1500 ₽</div>
                </div>
                <div class="specialist-info">
                    <h3>Нудельман<br>Наталия Федоровна</h3>
                    <p class="specialist-position">Врач-невролог</p>
                </div>
            </div>

            <div class="specialist-card">
                <div class="specialist-image">
                    <img src="{% static 'images/specialist-2.png' %}" alt="Хан Умар Хаят">
                    <div class="price-badge">Услуги от 1500 ₽</div>
                </div>
                <div class="specialist-info">
                    <h3>Хан<br>Умар Хаят</h3>
                    <p class="specialist-position">Андролог, главный врач, уролог</p>
                </div>
            </div>

            <div class="specialist-card">
                <div class="specialist-image">
                    <img src="{% static 'images/specialist-3.png' %}" alt="Хан Тюльпан Тимергалиевна">
                    <div class="price-badge">Услуги от 1500 ₽</div>
                </div>
                <div class="specialist-info">
                    <h3>Хан<br>Тюльпан Тимергалиевна</h3>
                    <p class="specialist-position">Акушер-гинеколог, врач УЗИ, генеральный директор, гинеколог</p>
                </div>
            </div>

            <div class="specialist-card">
                <div class="specialist-image">
                    <img src="{% static 'images/specialist-4.png' %}" alt="Башарова Альбина Шарипяновна">
                    <div class="price-badge">Услуги от 1500 ₽</div>
                </div>
                <div class="specialist-info">
                    <h3>Башарова<br>Альбина Шарипяновна</h3>
                    <p class="specialist-position">Терапевт, главный специалист в сфере медицины</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Секция контактов -->
<section class="contact-section" id="contacts">
    <div class="container">
        <div class="contact-card">
            <div class="contact-info">
                <h2>Можете связаться с нами удобным для вас способом</h2>
                <p class="address">Набережные Челны,<br>62-й комплекс, 30А</p>
                <p class="phone">+7 (901) 143-34-34</p>
                <div class="social-links">
                    <a href="#" class="social-link email">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M4 4H20C21.1 4 22 4.9 22 6V18C22 19.1 21.1 20 20 20H4C2.9 20 2 19.1 2 18V6C2 4.9 2.9 4 4 4Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M22 6L12 13L2 6" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </a>
                    <a href="#" class="social-link telegram">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M22 2L11 13" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M22 2L15 22L11 13L2 9L22 2Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </a>
                    <a href="#" class="social-link whatsapp">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M21 11.5C21 16.75 16.75 21 11.5 21C9.54 21 7.73 20.38 6.22 19.3L3 20.5L4.2 17.28C3.12 15.77 2.5 13.96 2.5 12C2.5 6.75 6.75 2.5 12 2.5C17.25 2.5 21.5 6.75 21.5 12V12.5H21Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </a>
                </div>
            </div>
            <div class="appointment-info">
                <h2>Или заполните анкету первичного приёма</h2>
                <a href="#" class="btn btn-primary">Перейти к заполнению</a>
                <img src="{% static 'images/tools.png' %}" alt="Медицинские инструменты" class="medical-image">
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script>
// Функциональность поиска услуг
document.addEventListener('DOMContentLoaded', function() {
    const searchInput = document.getElementById('searchInput');
    const servicesDropdown = document.getElementById('servicesDropdown');

    // Показать/скрыть выпадающий список
    searchInput.addEventListener('focus', function() {
        servicesDropdown.style.display = 'block';
    });

    // Скрыть выпадающий список при клике вне его
    document.addEventListener('click', function(event) {
        if (!event.target.closest('.search-bar')) {
            servicesDropdown.style.display = 'none';
        }
    });

    // Фильтрация услуг при вводе
    searchInput.addEventListener('input', function() {
        const searchTerm = this.value.toLowerCase();
        const serviceLinks = servicesDropdown.querySelectorAll('a');

        serviceLinks.forEach(link => {
            const serviceName = link.textContent.toLowerCase();
            const listItem = link.parentElement;

            if (serviceName.includes(searchTerm)) {
                listItem.style.display = 'block';
            } else {
                listItem.style.display = 'none';
            }
        });

        // Показать выпадающий список если есть текст
        if (searchTerm.length > 0) {
            servicesDropdown.style.display = 'block';
        }
    });

    // Обработка клика по услуге
    servicesDropdown.addEventListener('click', function(event) {
        if (event.target.tagName === 'A') {
            event.preventDefault();
            searchInput.value = event.target.textContent;
            servicesDropdown.style.display = 'none';
            // Здесь можно добавить логику перехода к конкретной услуге
            console.log('Выбрана услуга:', event.target.textContent);
        }
    });
});
</script>
{% endblock %}